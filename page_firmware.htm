<html>
    <body>
        <h4>Firmware DistoX2</h4>

        <p>O TopoDroidX inclui as firmwares para DistoX2 versões 2.1, 2.2, 2.3, 2.4 e 2.5 que são todas compatíveis com o hardware versão 1.0.</p>

        <p>Somente a versão 2.5 é compatível com o hardware versão 1.1.</p>

        <p>O TopoDroidX inclui também as firmwares versão 2.6.1, 2.6.3 e 2.6.4 que são compatíveis com o hardware versão 1.2 e a firmware versão 2.7.0 que é compatível com o hardware versÃo 1.3 (BLE).</p>

        <p><b>ALERTA</b></p>

        <p>Enviar uma firmware incompatível com a DistoX deixa o dispositivo inutilizável.</p>

        <p>Leia atentamente todas as mensagens antes de enviar uma nova firmware.</p>

        <p><b>Caixa de diálogo FIRMWARE</b></p>

        <p>Através da caixa de diálogo <u>Firmware</u> é possível gravar uma cópia da firmware atual de sua DistoX2 ou enviar uma nova firmware para o dispositivo.</p>

        <p>A caixa de diálogo apresenta um par de opções para enviar ou baixar a firmware do dispositivo.
        No primeiro caso, o usuário deverá escolher qual arquivo de firmware enviar.
        No segundo caso o usuário deverá escolher o nome do arquivo onde a firmware baixada deverá ser armazenada.</p>

        <p>Abaixo há uma barra com os botões:</p>

        <ul>
            <li><i>Ajuda</i></li>
            <li><i>Fechar</i>: fecha a caixa de diálogo sem fazer nadag</li>
            <li><i>OK</i>: confirma o envio ou a leitura da firmware</li>
        </ul>

        <p>Antes de enviar uma nova firmware o TopoDroidX verifica se a versão escolhida é compatível com a versão do hardware.
        Infelizmente não há um modo seguro de ler a versão da firmware do conteúdo do arquivo.
        Para evitar o envio de um arquivo inadequado, o bloco de assinatura do arquivo (o primeiro bloco após o bloco de carregamento inicial) e seu checksum são comparados com os valores conhecidos.</p>

        <p>Os códigos de resultado de verificação são os seguintes (negativos para falhas):</p>

        <ul>
            <li>2100: firmware 2.1</li>
            <li>2200: firmware 2.2</li>
            <li>2300: firmware 2.3</li>
            <li>2400: firmware 2.4</li>
            <li>2412: firmware 2.4c</li>
            <li>2500: firmware 2.5</li>
            <li>2501: firmware 2.51</li>
            <li>2512: firmware 2.5c</li>
            <li>2610: firmware 2.6.1</li>
            <li>2630: firmware 2.6.3</li>
            <li>2640: firmware 2.6.4</li>
            <li>2700: firmware 2.7.0</li>
            <li>-200: falha nas versões 2.1 ou 2.2</li>
            <li>-230, -2300: falha na versão 2.3</li>
            <li>-240, -2400: falha na versão 2.4</li>
            <li>-250: falha nas versões 2.5 ou 2.51</li>
            <li>-246, -2412: falha na versão 2.4c</li>
            <li>-256, -2512: falha na versão 2.5c</li>
            <li>-99: falha genérica (erro não identificado)</li>
        </ul>

        <p>A DistoX (versão 2 ou BLE) deve ser iniciada no modo de <b>carregamento inicial</b>.
        Consulte a documentaçcão da DistoX2 para maiores detalhes.</p>

        <p>O dispositivo deve ser ligado já no modo de carregamento inicial para que o TopoDroidX leia o bloco de assinatura da firmware que já está instalada na DistoX2 antes de enviar a nova firmware.</p>

        <p>Se a versão do hardware não for compatível, será apresentado um alerta.</p>

        <p><b>Oberve que o TopoDroidX não apresenta um alerta se você tentar enviar uma firmware pré versão 2.5 para o hardware versão 1.1.</b></p>

        <p>Ao enviar uma firmware, o TopoDroidX apresenta uma mensagem informando quantos bytes foram escritos naDistoX.
        Se este número for menor do que o tamamho da firmware, o envio terá sido falho.</p>

        <p><b>Procedimento de atualização de firmware</b></p>

        <ol>
            <li>Garanta que a DistoX desejada é o dispositivo ativo no TopoDroidX (tela <u>Dispositivos</u>).</li>
            <li>Abra a caixa de diálogo <u>Firmware</u> através da opção de menu <i>Firmware</i> e selecione o arquivo a ser enviado.</li>
            <li>Verifique as versões do hardware e da firmware de sau DistoX: garanta que o laser está desligado (botão <b>CLR</b>) e pressione o botão <b>FUNC</b> dua vees para verificar as versões.
            Também é possível verificar as versões do hardware e firmware através da caixa de diálogo <u>Info dispositivo</u> do TopoDroidX.</li>
            <li>Desligue a DistoX e religue-a no modo <b>carregamento inicial</b>: pressione <b>PLUS</b>, <b>MINUS</b> e <b>DIST</b> simultaneamente.
            A iluminaçcão de fundo de tela da DistoX é ligada mas sua tela permanece vazia.</li>
            <li>Envie a nova firmware a partir do TopoDroidX.</li>
            <li>Desligue a DistoX pressionando o botão <b>CLR</b>.</li>
            <li>Ligue a DistoX e verifique que a nova firmware foi instalada.</li>
        </ol>

        <p>Se a DistoX não ligar após o envio da firmware, será preciso reiniciar a DistoX no modo <b>carregamento inicial</b> e tentar enviar novamente a firmware.
        Para reiniciar a DistoX no modo <b>carregamento inicial</b> é preciso abrí-la e dar curto circuito em dois pinos: consulte os documentos disponíveis na internet para obter mais detalhes.</p>

        <p><b>Observação</b>: as atualizações de firmware são sempre registradas no arquivo "log" do TopoDroidX.</p>
        
        <p>
            <a href="manual16.htm">Principais funcionalidades</a> |
            <a href="manual17.htm">Índice remissivo</a>
        </p>
        
        <footer style="font-size: 80%; font-style: italic; clear: both;">
            <p style="margin:0;">Última atualização: <span id="last-update-date">2023-04-30</span> &mdash; Referente ao commit: <span id="last-update-commit">608d1e279</span></p>
            <p style="margin:0;">Tradução: <span id="translation">Rodrigo Severo<i> &lt;rsev@pm.me&gt;</i></span> &mdash; Revisão: <span id="revision">Edvard Magalhães <i>&lt;edvard3@gmail.com&gt;</i></span></p>
        </footer>
      </body>
   </html>
   