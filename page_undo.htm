<html>
  <body>
    <link rel="stylesheet" href="manual.css">
    <h1>Pilha "Desfazer"</h1>

    <p>
      O TopoDroidX implementa uma pilha "Desfazer".
      É uma lista ordenada de ações de desenho, apagamento e edição.
      Quando você desenha algo, uma ação de desenho é registrada no topo da pilha.
      Desfazer significa mover o ponteiro da pilha para baixo (além de afetar o desenho do croqui). Refazer move o ponteiro da pilha para cima (e adiciona o desenho ao croqui).
    </p>

    <p>
      O efeito de "emendar linha" durante o desenho na pilha de desfazer é que uma nova linha não é criada, e a linha que foi continuada (alterada) é movida para o topo da pilha "Desfazer".
    </p>

    <p>
      Ações de apagamento e edição também podem ser desfeitas/refeitas.
      No entanto, seu efeito na pilha não é tão simples quanto para ações de desenho.
    </p>

    <p>
      Apagar é uma operação de rasterização, enquanto o desenho é feito de itens vetoriais.
      Os pontos dos itens vetoriais que estão sob a região apagada são removidos.
      Isso afeta a pilha de desfazer de duas maneiras.
      Se um item é completamente apagado (por exemplo, um ponto), ele é removido da pilha.
      Desfazer a ação de apagar coloca o item de volta, mas no topo da pilha.
      Apagar o meio de uma linha remove o objeto de linha da pilha e o substitui por duas linhas que são adicionadas no topo da pilha.
    </p>

    <p>
      Por exemplo, apagar pode mudar a posição de uma linha na pilha de desfazer.
      Apagar o meio de uma linha remove a linha da pilha e coloca as duas peças finais no topo da pilha.
      Um "desfazer" subsequente remove as duas peças e coloca a linha de volta, no entanto, no topo da pilha.
    </p>

    <p>
      <a href="manual16.htm">Principais funcionalidades</a> |
      <a href="manual17.htm">Índice remissivo</a>
    </p>

    <footer style="font-size: 80%; font-style: italic; clear: both;">
        <p style="margin:0;">Última atualização: <span id="last-update-date" style="font-style: normal;">2024-05-28</span></p>
        <p style="margin:0 0 10px 0;">Referente ao commit: <span id="last-update-commit" style="font-style: normal;">691241d11</span></p>
        <p style="margin:0;">Tradução: <span id="translation" style="font-style: normal;">Rodrigo Severo<i> &lt;rsev@pm.me&gt;</i></span></p>
    </footer>

  </body>
</html>
