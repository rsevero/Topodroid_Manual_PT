<html>
  <body>
    <link rel="stylesheet" href="manual.css">
    <h1>[9] TELA DESENHO</h1>

    <p>O botão <i>croqui</i> da tela <u>Dados Topo</u> abre uma caixa de diálogo com a lista de croquis existentes além do botão <i>Novo</i> croqui.
    Clique neste botão para criar um novo croqui na topo.</p>

    <p>Cada croqui é composto por dois arquivos de croquis com diferentes pontos de vista: um para a planta baixa e outro para o perfil (projetado ou retificado).
    Os cortes tem, cada um, um só arquivo.
    Um novo croqui é aberto na planta baixa.
    A caixa de diálogo apresenta uma linha com duas colunas para cada croqui: um para a planta baixa e outro para o perfil. 
    Desta maneira você já pode abrir ocroqui desejado diretamente. Cada croqui pode ter vários desenhos diferentes.</p>

    <p>O <u>perfil retificado</u> apresenta a linha de trena com as visadas desenhadas à esquerda, direta ou vertical de acordo com a "direção no perfil retificado" definida na medida.
    Se a "direção no perfil retificado" da visada não estiver definida, a visada não será apresentada no perfil retificado.
    Neste caso nenhuma visada a partir desta será apresentada.</p>

    <p>Medidas auxiliares são projetadas no plano vertical da visada que tiver o azimute mais próximo ao da medida auxiliar em questão, a não ser que o usuário tenha explicitamente definido a "direção no perfil retificado" na caixa de diálogo de <u>edição de medida</u>.
    Por exemplo, no perfil apresentado na figura abaixo, as medidas auxiliares na região cinza claro serão projetadas no plano vertical da visada 1-2, já as da região cinza escuro serão projetadas no plano vertical da visada 0-1.</p>

    <p>O perfil <u>projetado</u> apresenta a linha de trena e as medidas auxiliares projetadas no plano vertical perpendicular ao azimute da projeção. O azimute da projeção é definido ao se criar o perfil projetado e não pode ser alterado posteriormente.</p>

    <p><img src="splay_extend.png"></p>

    <h2>Visadas</h2>

    <p>Cores das visadas:</p>
    <ul>
      <li>normal: branco</li>
      <li>medida com valores anômalos: vermelho</li>
      <li>inconsistente em relação às visadas irmãs: laranja. Além da cor, serão também representadas por uma linha em zigue-zague conforme pode ser visto abaixo.</li>
    </ul>

    <p><img src="line_zigzag.png" style="width:80px;"></p>

    <h2>Medidas auxiliares</h2>

    <p>Medidas auxiliares podem ser apresentadas como segmentos de linha ou somente através de seus pontos finais [T].
    Sempre que a tela de desenho estiver no modo "seleção" as medidas auxiliares serão apresentadas como segmentos de linhas.</p>

    <h3>Cores das medidas auxiliares [E/T]</h3>
    <ul>
      <li>comentada: verde muito escuro</li>
      <li>medida auxiliar de corte: verde escuro</li>
      <li>medida auxiliar horizontal (H): azul (planta baixa), azul escuro (perfil)</li>
      <li>medida auxiliar vertical (V): azul escuro (planta baixa), azul (perfil) </li>
      <li>outras: cinza claro</li>
    </ul>

    <p>Medidas auxiliares podem receber cores diferentes através do botão <u>Ações especiais</u> do menu de multisseleção.
    As cores das medidas auxiliares podem ser escolhidas a partir de uma paleta pré-definida ou livremente [T].
    </p>

    <p>Uma medida auxiliar não é apresentada nos desenhos se a visada a que a medida auxiliar está atrelada for ocultada na planta baixa ou perfil.</p>

    <p>Se a configuração <i>Especiais >> Dados medida auxiliar >> Pontilh aux</i> estiver habilitada, as medidas auxiliares podem ser apresentadas tracejadas ou pontilhadas:</p>

    <ul>
      <li><i>Clino</i>: a medida auxiliar é tracejada se o valor absoluto da inclinação da visada estiver acima do valor definido na configuração <i>Especiais >> Dados medida auxiliar >> Lim ponth clino</i>.
      Para inclinações positivas, a linha será pontilhada, para inclinações negativas a linha será tracejada [padrão 50&deg;]</li>
      <li><i>Azimute</i>: a medida auxiliar é tracejada se o ângulo com a visada mais "próxima" (considerando o azimute) estiver acima do valor definido na configuração <i>Especiais >> Dados medida auxiliar >> Lim pontilh azimute</i>. [padrão 60&deg;]</li>
      <li><i>Visualização</i>: as medidas auxiliares são tracejadas de acordo com a inclinação na planta baixa e de acordo com o azimute no perfil retificado.
      Nos perfis projetados, as medidas auxiliares são tracejadas de acordo com o ângulo que formam com o azimute da projeção.</li>
    </ul>

    <p>Além disso, na <u>planta baixa</u> as medidas auxiliares não são apresentadas se sua inclinação estiver acima do valor definido na configuração <i>Especiais >> Dados medida auxiliar >> Lim aux planta baixa</i>. [padrão 80&deg;]
    </p>

    <h3>Em cortes:</h3>
    <ul>
      <li>medidas auxiliares X (EDTC): verde</li>
      <li>outras: azul escuro para as ligadas à base PARA e claro para as ligadas à base DE</li>
      <li>por fim, se a configuração <i>Especiais >> Dados medida auxiliar >> Pontilh aux</i> estiver habilitada, as medidas auxiliares serão pontilhadas ou tracejadas se o ângulo da medida auxiliar e a normal do plano do corte estiverem abaixo do limite definido na configuração <i>Especiais >> Dados medida auxiliar >> Lim pontilh ângulo</i> [padrão 60&deg;] (pontilhada se estiver na direção da normal, tracejada se estiver oposta).</li>
    </ul>

    <p>As cores das linhas tracejadas, pontilhadas e recentes das medidas auxiliares podem ser alteradas através das opções correspondentes [T].</p>

    <h2>Bases</h2>

    <p>As cores das bases são:</p>
    <ul>
      <li>violeta: padrão</li>
      <li>verde: base ativa</li>
      <li>vermelho: bases a partir das quais a linha de trena está oculta</li>
      <li>azul: bases antes das quais a linha de trena é apresentada</li>
      <li>amarelo: bases gravadas [T]</li>
    </ul>

    <h2>Modos de interação</h2>

    <p>A tela <u>desenho</u> conta com quatro modos de interação:</p>
    <ul>
      <li><b>mover</b>: você pode mover o espaço de desenho, fechar ou abrir o zoom.
      Se a configuração <i>Especiais >> Dados topo >> Origem fixa croqui</i> estiver habilitada a ação de mover moverá somente o desenho e não a linha de trena [T]</li>
      <li><b>desenhar</b>: nesse modo você pode incluir símbolos (pontos e rótulos), linhas e áreas (regiões fechadas preenchidas por uma cor ou com um padrão).
      </li>
      <li><b>apagar</b>: para apagar itens, linhas, áreas ou parte delas.</li>
      <li><b>editar</b> [A]: para alterações relacionadas a pontos e propriedades diversas dos itens, incluindo apagá-los.</li>
    </ul>

    <p>Mover e dar zoom são possíveis mesmo nos modos <b>Desenhar</b> e <b>Apagar</b> usando dois dedos simultaneamente.
    Se a configuração <i>Desenho croqui >> Arrastar canto</i> estiver habilitada, o croqui pode ser arrastado pelos retângulos cinzas transparentes que estarão nos cantos da tela.</p>

    <p>O controle de zoom pode ser habilitado temporaria ou permanentemente na configuração <i>Desenho croqui >> Controle zoom</i>.
    Se temporáriamente, será apresentado quando você clicar na parte inferior central da tela.</p>

    <p>No modo <b>Desenhar</b> há uma barra de ferramentas inferior que apresenta os símbolos usados mais recentemente e uma "seta" para selecionar outros símbolos.</p>

    <p>No modo <b>Editar</b>, quando o item selecionado é um ponto, é apresentada uma barra de rolagem na base da tela para alterar o tamanho do ponto. 
    Se a configuração <i>Desenho croqui >> Arrastar canto</i> estiver habilitada e o ponto for orientável, sua direção pode ser alterada no sentido horário arrastando para baixo a partir do canto superior direito e no sentido antihorário arrastando para baixo a partir do canto superior esquerdo.</p>

    <h2>BOTÕES</h2>

    <p><img src="btn_edit.png" class="app_button"><img src="btn_erase.png" class="app_button"><img src="btn_select.png" class="app_button"></p>

    <p>Os modos são representados pelos três botões verdes à esquerda: <i>desenhar</i>, <i>apagar</i> e <i>editar</i>.
    Quando um deles estiver ativo, o botão correspondente estará em verde claro. Se nenhum estiver verde claro, a tela desenho estará no modo <i>mover</i>.</p>

    <p>Quando um dos três botões está verde claro, um clique longo nele abre a tela de edição das configurações relevantes ao modo ativo.</p>

    <p>O restante dos botões varia de acordo com o modo ativo no momento.</p>

    <h3>Modo <span class="italicnotbold">mover</span></h3>
    <ul>
      <li><img src="btn_download.png" class="app_button"> <i>download</i> de dados.
      Se nenhum dispositivo estiver ativo (selecionado), este botão não é apresentado. 
      Por padrão as medidas auxiliares e as visadas são redesenhadas quando uma visada é baixada (e reconhecida).
      Use o botão <i>Redesenhar</i> <img src="btn_close.png" class="app_button"> para forçar o redesenho da linha de trena.
      As últimas medidas baixadas podem ser destacadas em azul para ajudar a distingui-las do restante.</li>
      <li><img src="btn_bluetooth.png" class="app_button"> reiniciar ou apresentar controles <i><a href="page_bluetooth.htm">Bluetooth</a></i></li>
      <li><img src="btn_mode.png" class="app_button"> <i><a href="page_drawing_refs.htm">o que mostrar</a></i>: visadas, medidas auxiliares, bases, grade, escala, contorno de outros desenhos.</li>
      <li><img src="btn_plan.png" class="app_button"> alternar entre <i>planta baixa e perfil</i>.</li>
      <li><img src="btn_note.png" class="app_button"> <i><a href="page_survey_notes.htm">comentários</a></i> da topo</li>
      <li><img src="btn_splay_group.png" class="app_button"> <i>apresentação de medidas auxiliares</i> em cortes.</li>
      <li><img src="btn_azimuth.png" class="app_button"> <i><a href="page_azimuth.htm">direção no perfil retificado</a></i></li>
      <li><img src="btn_refresh.png" class="app_button"> <i>redesenhar</i> a linha de trena</li>
    </ul>

    <h3>Modo <span class="italicnotbold">desenhar</span></h3>
    <ul>
      <li><img src="btn_undo.png" class="app_button"> <i>desfazer</i>: remove os últimos itens desenhados, um por vez.</li>
      <li><img src="btn_redo.png" class="app_button"> <i>refazer</i>: redesenha os itens removidos, um por vez. A lista de itens removidos é esvaziada quando você desenha um novo item.
      Ações de edição de pontos também pode afetar essa lista.</li>
      <li><img src="btn_tools.png" class="app_button"> <i><a href="page_tools_list.htm">Escolha de símbolo</a></i>.</li>
      <li><img src="btn_splay_display_mode.png" class="app_button"> <i>modo de apresentação de medidas auxiliares</i>: como linhas ou como pontos com borda.
      </li>
      <li><img src="btn_cont.png" class="app_button"> <i>Unir</i>: somente para linhas e se a opção <i></i> estiver desabilitada. Quando o recurso <i>Unir</i> estiver ativado, as linhas iniciadas ou terminadas próximas a outra linha do mesmo grupo se unida a ela.</li>
    </ul>

    <p>O ícone do botão <i>Escolha de símbolo</i> <img src="btn_tools.png" class="app_button"> indica o tipo atual de símbolo a ser desenhado: pontos, linhas ou áreas.</p>

    <h3>Modo <span class="italicnotbold">apagar</span></h3>
    <ul>
      <li><img src="btn_undo.png" class="app_button"> <i>desfazer</i></li>
      <li><img src="btn_redo.png" class="app_button"> <i>refazer</i></li>
      <li><img src="btn_erase_all.png" class="app_button"> <i>o que apagar</i>: tipo de símbolos a serem apagados: todos, pontos, linhas ou áreas</li>
      <li><img src="btn_size.png" class="app_button"> <i>tamanho da borracha</i> [P, M, G]</li>
    </ul>

    <h3>Modo <span class="italicnotbold">editar</span></h3>
    <ul>
      <li><img src="btn_select_all.png" class="app_button"> <i>tipo de item selecionável</i>: todos, pontos, linhas, áreas, medidas, bases</li>
      <li><img src="btn_size.png" class="app_button"> <i>tamanho da ferramenta de seleção</i> [P, M, G]</li>
      <li><img src="btn_delete.png" class="app_button"> <i>apagar</i> o item do croqui (pede confirmação e pode ser desfeito no modo desenhar)</li>
      <li><img src="btn_point.png" class="app_button"> <i>ações compostas</i></li>
      <li><img src="btn_item.png" class="app_button"> <i>editar</i> propriedades do item selecionado</li>
      <li><img src="btn_range.png" class="app_button"> <i>tipo de intervalo</i>: ponto a ponto, intervalo suave, intervalo duro ou item completo (somente para linhas e áreas)</li>
    </ul>

    <p>Quando há itens selecionados, os dois primeiros viram botões de navegação <i>anterior/próximo</i> no conjunto de itens selecionados.</p>

    <h3>Nos croquis de cortes</h3>
    <p>No modo <b>mover</b> não existem os botões "planta baixa/perfil", "direção perfil retificado" e "redesenhar".
    Há um novo botão "medidas auxiliares" <img class="app_button" src="btn_splay_display_mode.png"> que permite que se escolha quais medidas auxiliares apresentar: "todas", "base PARA", "base DE", "nenhuma".
    A cada clique no botão ocorre a seleção de quais medidas auxiliares apresentar, alternando para a próxima da lista.
    Por conta disso, o botão "o que mostrar" <img class="app_button" src="btn_mode.png"> não apresenta opções relacionadas a medidas auxiliares.</p>

    <h3>Ações de cliques longos</h3>
    <ul>
      <li>Quando selecionado um <i>modo</i>, seu botão abre a respectiva tela de configurações [A].</li>
      <li>No botão <i>download</i> <img class="app_button" src="btn_download.png"> troca o dispositivo ativo se estiver com a opção "Topo 2 DistoX" habilitada [E].</li>
      <li>Na planta baixa, um clique longo no botão <i>direção do perfil retificado</i> <img class="app_button" src="btn_azimuth.png"> faz com que o valor de referência de azimute usado para definição automática da direção possa ser alterado simplesmente deslizando o dedo pela tela.
      O botão é apresentado em verde nessa situação [E].</li>
      <li>No perfil retificado, um clique longo no botão "planta baixa/perfil" <img class="app_button" src="btn_plan.png"> abre a caixa de diálogo que permite espelhar o croqui [N].</li>
      <li>Nos cortes um clique longo no botão "medidas auxiliares" <img class="app_button" src="btn_splay_display_mode.png"> alterna a apresentação de medidas auxiliares que estão fora do plano do corte [T].
      </li>
      <li>No botão <i>Escolha de símbolo</i> <img class="app_button" src="btn_tools.png"> habilita/deshabilita a função "retracejar" (linhas e áreas).</li>
      <li>No botão <i>apagar</i> <img class="app_button" src="btn_erase.png"> remove o ponto selecionado da linha ou área [N].
      </li>
      <li>No botão <i>edição de propriedades</i> <img class="app_button" src="btn_item.png"> quando o ponto selecionado é um ponto de corte, abre o croqui do corte [T].</li>
    </ul>

    <h2>MENUS</h2>
    <p>Quando o processo de análise das medidas encontrar anomalias, o botão "menu" vai apresentar um sinal de exclamação em vermelho <img src="btn_sketch_anomalies.png" class="app_button">.
    Um clique longo neste botão abre uma caixa de diálogo listando as anomalias.</p>
    <ul>
      <li><u>Mudar/Fechar</u>: mudar para outro croqui ou fechar o croqui atual.</li>
      <li><u>Exportar</u>: o croqui pode ser <a href="page_plot_export.htm">exportado</a> nos seguintes formatos: <i>Therion</i> th2, <i>cSurvey</i>, DXF, SVG, PDF, xvi (<i>xtherion</i>), shapefile (<i>QGIS</i>), <i>Tunnel</i> e <i>Cave3D</i>.
      Todos os formatos produzem dois arquivos, um para a planta baixa e outro para o perfil exceto para o <i>cSurvey</i> onde os dois croquis aparecem em um mesmo arquivo.</li>
      <li><a href="page_stat2.htm">Estatísticas croqui</a>: para cortes, essa opção calcula a área do corte.</li>
      <li><u>Recarregar</u>: recarrega o croqui a partir de uma <a href="page_backup.htm">cópia backup</a>.</li>
      <li><u>Zoom geral</u>: caixa de diálogo para apresentar todo o croqui da tela e para escolher o modo de visualização retrato ou paisagem.</li>
      <li><u>Renomear/apagar/dividir</u> o croqui: qualquer uma das duas primeiras ações afetam tanto a planta baixa quanto o perfil simultaneamente.
      Croquis apagados podem ser recuperados através da opção de menu <i>Restaurar/colar</i> na tela <u>Principal</u>.
      Dividir afeta somente o desenho sendo visualizado no momento.</li>
      <li><a href="page_plot_scraps.htm">Desenhos</a>: abre a caixa de diálogo dos diversos desenhos do croqui atual [T].</li>
      <li><a href="page_tools.htm">Paleta</a> de símbolos de desenho.</li>
      <li><u>Visão geral</u>: apresenta todos os croquis da topo juntos (somente para plantas-baixas e perfis retificados).</li>
      <li><u>Configurações</u></li>
      <li><u>Ajuda</u></li>
    </ul>

    <h2>CONFIGURAÇÕES CROQUIS</h2>
    <ul>
      <li><i>Arrastar canto</i>: habilita o arrasto do croqui pelos cantos da tela de desenho.</li>
      <li><i>Controle zoom</i>: define como os controles de zoom +/- são apresentados em aparelhos multitoque [B].
      Os controles de zoom podem ficar ocultos, apresentados momentaneamente ou ficar visíveis permanentemente.</li>
      <li><i>Lim hor corte H</i>: limite horizontal para cortes horizontais (para perfis projetados).</li>
      <li><i>Verif linha trena</i>: verificar se todas as bases estão conectadas à linha de trena [padrão "não"]</li>
      <li><i>Verif perfil retif</i>: verificar se todas as visadas têm definidas uma direção no perfil retificado [padrão "sim"]</li>
      <li><i>Tam barra ferramentas</i>: tamanho da barra de ferramentas das ferramentas de desenho [default 8]</li>
      <li><i>PONTOS</i>
        <ul>
          <li><i>Ícone ponto sem zoom</i>: ícones de pontos não são afetados pelo zoom</li>
          <li><i>Escala símbolo ponto</i>: escala dos símbolos dos pontos</li>
          <li><i>Tamanho rótulo</i>: tamanho dos textos dos rótulos [padrão "24 pt"]</li>
        </ul>
      <li><i>LINHAS/ÁREAS</i>
        <ul>
          <li><i>Espessura linha</i>: espessura das linhas no desenho (as linhas de paredes têm o dobro desta espessura) [padrão "1 px"]</li>
          <li><i>Escala linha</i>: escala para desenho da simbologia das linhas [padrão "3.0"]</li>
          <li><i>Estilo linha</i>: forma como a linha é desenhada: "Detalhada", "Normal", "Grosseira", "Bézier" (curva paramétrica interpolada), "Simplificada" [padrão "normal"]</li>
          <li><i>Fechar linh fecháveis</i>: fechar linhas cujos tipos sejam fecháveis [padrão "sim"]</li>
          <li><i>Dist mín pontos linha</i>: distância mínima entre pontos de uma linha de tipo normal [padrão "5 px"] </li>
          <li><i>Tam marca corte</i> tamanho da marca indicando direção do corte [padrão "5 px"]</li>
          <li><i>Usar ponto corte</i>: adicionar ponto indicando posição do corte às linhas de corte [padrão "sim"]</li>
          <li><i>Visib borda área</i>: visibilidade padrão das bordas de áreas</li>
        </ul>
      </li>
      <li><i>CROQUI</i>
        <ul>
          <li><i>Espessura linha</i>: espessura das linhas (visadas e medidas auxiliares)</li>
          <li><i>Tam nome base</i>: tamanho do nome das bases [padrão "18 pt"] [N]
          </li>
          <li><i>Raio ponto verde</i>: no modo "edição", é o tamanho dos pontos verdes para seleção dos elementos desenhados. [padrão "5 px"] [A]</li>
          <li><i>Raio seleção</i>: raio da ferramenta de seleção [padrão "16 px"] [A]</li>
          <li><i>Tam borracha</i>: raio da ferramenta borracha</li>
          <li><i>Sensib desloc</i>: sensibilidade do deslocamento, tamanho do passo no deslocamento [padrão "60 px"] [E].
          Aumentar se o deslocamento estiver quicado.</li>
          <li><i>Desloc máx selec</i>: máximo deslocamento entre toque e destoque para selecionar.
          Seu dedo não pode se mover mais do que isso ao selecionar [A]</li>
          <li><i>Transp aux</i>: transparência aplicada às medidas auxiliares [padrão "80", 0: transparente, 100: opaca]</li>
        </ul>
      </li>
    </ul>

    <p style="font-size:90%">Na tela <u>principal</u>, <a href="page_geek.htm">Configurações Especiais</a>:</p>
    <ul>
      <li><i>Paleta</i>: Habilita paletas adicionais</li>
      <li><i>Log pacote</i>: Habilitar log de pacotes DistoX</li>
      <li><i>Editor croqui</i>: Habilitar editor de croquis avulsos [T]</li>
    </ul>

    <p style="font-size:90%"><a href="page_geek.htm">Configurações Especiais: Desenho croqui</a>:</p>
    <ul style="font-size:90%">
      <li><i>Escalar/deslocar croqui</i>: habilitar escalonamento e deslocamento de croquis.</li>
      <li><i>Partir/unir croqui</i>: habilitar função de partir e unir croquis.</li>
      <li><i>Dsenh só caneta</i>: tamanho da caneta para permitir que a mão toque a tela ao desenhar somente com caneta. [0: ignorar]</li>
      <li><i>Qt backups</i>: quantidade de cópias de segurança dos croquis.</li>
      <li><i>Intervalo backup</i>: intervalo mínimo entre dois backups [s].</li>
      <li><i>Bases gravadas</i>: apresenta bases gravadas em laranja.</li>
      <li><i>Só visada redesenha</i>: somente atualiza a linha de trena quando recebe novas visadas.</li>
      <li><i>Transformação afim</i>: Habilita transformação afim em croquis (altera proporções e posição).</li>
      <li><i>Camada</i>: usar camadas na tela de desenho. As opções são: “nenhum”, “por símbolo” e “por item”.</li>
      <li><i>Tam papel milimetrado</i>: ajuste de escala para papel milimetrado.</li>
      <li><i>Corte inclinado</i>: visualização de perfis de cortes inclinados.</li>
    </ul>

    <p style="font-size:90%"><a href="page_geek.htm">Configurações Especiais: Linhas</a>:</p>
    <ul>
      <li><i>Âng endireitar</i>: ângulo mínimo das quinas de linhas endireitadas.</li>
      <li><i>Prec interp Bézier</i>: exatidão da interpolação cúbica das curvas Bézier.</li>
      <li><i>Lim quina Bézier</i>: limite para criação de quinas nas curvas Bézier.</li>
      <li><i>Dist pont ref</i>: distância máxima entre seguimento e ponto de referência na simplificação e linhas [n].</li>
      <li><i>Comp seg ref</i>: comprimento máximo de um seguimento de linha na simplificação de linhas.</li>
      <li><i>Zona tampão seg ref</i>: zona tampão em torno de seguimento de linha para simplificação de linhas [pxl].</li>
      <li><i>Colar linha/área</i>: habilitar atração + união de linhas/áreas.</li>
      <li><i>Suav/endir segmento</i>: habilita função de suavizar/endireitar segmentos de linhas.</li>
      <li><i>Endireitar linhas</i>: habilita função de transformar linhas inteiras em retas.</li>
      <li><i>Multisseleção caminho</i>: habilita função de seleção de vários caminhos.</li>
      <li><i>Ações compostas</i>: habilita ações de ‘clique longo’ para linhas e áreas.</li>
    </ul>

    <h2>Cache de croquis</h2>
    <p>Depois de abertos, os croquis são mantidos em memória, em um cache.
    Isso acelera a troca entre a tela de <u>Medidas Topo</u> e a tela de <u>Desenho</u> já que o croqui não precisa ser relido do arquivo.
    O cache de croquis é esvaziado quando a topo é fechada.</p>

    <h3>Formato de dados dos arquivos de croquis</h3>
    <p>Cada croqui é gravado em um arquivo cada vez que é modificado ou quando a tela de <u>Desenho</u> muda de visualização.
    Por questões de performance o TopoDroidX grava os croquis em um formato binário.</p>

    <h2>Seleção de pontos [A]</h2>
    <p>Para fazer qualquer edição, você precisa inicialmente selecionar um ponto: seja de um símbolo do tipo ponto, ou um ponto de uma linha ou área, uma base ou um ponto intermediário de uma medida.
    O ponto fica verde quando selecionado.</p>

    <p>Para fazer isso, clique o mais próximo possível ao ponto desejado.
    Entretanto se diversos pontos estiverem próximos ao local onde você clicar todos eles serão selecionados mas somente um será editado.
    Você troca o ponto em edição usando os botões <i>Ant/Próx</i> que podem ser visualizados abaixo.</p>

    <p><img src="btn_multiselection_previous.png" class="app_button">&nbsp;<img src="btn_multiselection_next.png" class="app_button"></p>

    <h2>Estilo de linha</h2>

    <p>O TopoDroidX tem cinco estilos de linhas (forma como a linha é desenhada):</p>
    <ul>
      <li><i>Normal</i> [padrão]: as linhas são desenhadas como polilinhas (sequência de segmentos de reta).</li>
      <li><i>Detalhada</i>: os segmentos de reta são mais curtos.</li>
      <li><i>Grosseira</i>: os segmentos de reta são mais longos.</li>
      <li><i>Bézier</i>: as linhas são interpoladas substituindo os segmentos de reta por curvas Bézier cúbicas (<i>splines</i>).
      Estas curvas passam pelos dois pontos extremos do segmento e são controlados por pontos que definem sua curvatura.
      Se você pretende exportar seus desenhos no formato DXF, não use este estilo pois as linhas serão convertidas para polilinhas.</li>
      <li><i>Simplificada</i>: as linhas são simplificadas usando um algoritmo de redução de pontos.</li>
    </ul>

    <h2>Retracejar</h2>
    <p>Linhas e áreas podem ser desenhadas no modo "retracejar".</p>

    <p>Um clique longo no botão <i>Escolha de símbolo</i> alternadamente liga e desliga o modo "retracejar".
    Quando o modo "retracejar" está ativo, o indicador de linha/área no botão estará em branco.
    A parcela retracejada da linha/área não é transformada (Bézier, unir a pontos próximos, grau de detalhamento da linha, etc.).</p>

    <p>Para retracejar uma parte de uma linha, desenhe uma nova linha que comece e/ou termine próxima a essa linha.</p> 

    <p>Linhs do tipo "corte" não podem ser retracejadas.</p>

    <p>Áreas podem ser retracejadas desenhando uma área que comece e termine próxima à borda da área.
    O segmento que conecta esses dois pontos da borda será substituído pela nova linha traçada.
    Uma área pode ser ampliada ou reduzida e uma concavidade vazio pode ser preenchida (veja a figura abaixo).</p>

    <p>A ação de retracejar pode ser desfeita e refeita.</p>
    
    <p><img src="area_concavity.png" width="360" border="1"></p>

    <h2>Ações Compostas [T]</h2>

    <p>No modo “Edição”, cada nó (ponto verde) de linhas e áreas desenhadas podem ser editadas clicando-se sobre elas.
    Quando selecionado o ponto fica destacado e pode ser movido, bem como o botão <i>Ações compostas</i> oferecerá as seguintes opções para linhas: “juntar ao ponto mais próximo”, “duplicar ponto”, “apagar ponto”, “corta a linha no ponto” e “ligar à linha”.
    Para as áreas estarão disponíveis as opções: “juntar ao ponto mais próximo”, “duplicar ponto” e “apagar ponto”.</p>

    <h2>Orientação da tela: retrato/paisagem</h2>

    <p>Na tela principal, em Configurações, pode-se definir a orientação da tela do aplicativo, escolhendo entre as opções “indefinida”, “retrato” e “paisagem”.
    No modo retrato o norte magnético e a vertical para cima apontam para o topo da tela respectivamente na planta baixa e nos perfis.
    Se a declinação magnética da topo estiver definida, o norte verdadeiro é apresentado como um ângulo (traço azul) em relação ao norte magnético.</p>

    <p>No modo paisagem o norte magnético e a vertical para cima são apresentados apontando para a lateral esquerda do aparelho de maneira que, na planta baixa e no perfil, o Leste e a Direita apontam para cima.
    No modo paisagem a barra de símbolos se reposiciona de forma que fique no topo quando o aparelho estiver deitado.</p>

    <p>Os croquis são sempre gravados e exportados com o norte magnético e a vertical apontando ambos para cima.</p>

    <p><b>Alerta:</b> se o croqui sumir da tela, alterne entre planta baixa e perfil para forçar o TopoDroidX a redesenhá-lo.</p>

    <h2>Modo Editor de Arquivos</h2>

    <p>A tela de <i>Desenho</i> é aberta no modo Editor de Arquivos quando é aberta a partir do botão <u>croqui</u> disponível na tela <i>Principal</i>.
    Arquivos de croquis do TopoDroidX (.tdr) e arquivo simples do therion (.th2) podem ser abertos e editados. As alterações não são gravadas automaticamente devendo-se usar a opção de menu "Gravar".</p>

    <p>Arquivos ".tdr" do TopoDroidX não são atrelados a uma topo.
    As bases são carregadas do arquivo como "bases do usuário".</p>

    <p>A sintaxe dos arquivos ".th2" do Therion não é completamente suportada.
    Em particular áreas com bordas multilinhas não são suportadas pois o TopoDroidX só comporta áreas com bordas definidas por uma única linha.</p>

    <p>Quando a tela <i>Desenho</i> é aberta no modo Editor de Arquivos, os botões e as opções de menu mudam. Os menus:</p>

    <ul>
      <li><i>Fechar</i> a tela</li>
      <li><i>Gravar</i> o arquivo th2 com as modificações</li>
      <li><i>Abrir</i> um arquivo th2</li>
      <li><i>Zoom geral</i></li>
      <li><i>Desenhos</i></li>
      <li><i>Paleta</i></li>
      <li><i>Configuração</i></li>
      <li><i>Ajuda</i></li>
    </ul>

    <p>No modo de interação <i>Mover</i> só há os três botões verdes para ativar os outros modos.</p>

    <p>No modo <i>Desenhar</i> há os seguintes botões adicionais: <i>desfazer</i>, <i>refazer</i>, <i>escolha de símbolos</i> e <i>emenda de linhas/áreas</i>.</p>

    <p> Os modos <i>Apagar</i> e <i>Editar</i> contam com os botões normais descritos acima.</p>

    <p>O arquivo th2 pode conter mais de um desenho. Como o croqui não é atrelado a uma topo, não há uma linha de trena, ou seja, não há nem visadas e nem medidas auxiliares.</p>

    <p>Só serão apresentadas bases se o arquivo th2 tiver pontos do tipo base.
    Neste caso elas serão mostradas como pontos com o nome da base ao lado.</p>

    <p>A grade só é apresentada se um tamanho de papel milimetrado tiver sido definido através da caixa de diálogo <i>Zoom Geral</i>.</p>

    <p><a href="page_tools.htm">Paleta de símbolos de desenho</a><br>
      <a href="page_therion_stations.htm">Ponto tipo base do Therion</a><br>
      <a href="page_undo.htm">Pilha das ferramentas desfazer/refazer</a><br>
      <a href="page_shift.htm">Arrasto e espelhamento de croquis</a>
    </p>

    <div style="float: left; margin-bottom: 10pt;">
      <div>
          <a href="manual08.htm">&lt; Info Topo</a> |
          <a href="manual10.htm">Desenhando croqui &gt;</a>
      </div>
      <div>
        <a href="manual16.htm">Principais funcionalidades</a> |
        <a href="manual17.htm">Índice remissivo</a>
    </div>
  </div>

  <footer style="font-size: 80%; font-style: italic; clear: both;">
    <p style="margin:0;">Última atualização: <span id="last-update-date" style="font-style: normal;">2023-10-01</span></p>
    <p style="margin:0 0 10px 0;">Referente ao commit: <span id="last-update-commit" style="font-style: normal;">b584f6c6a</span></p>
    <p style="margin:0;">Tradução: <span id="translation" style="font-style: normal;">Rodrigo Severo<i> &lt;rsev@pm.me&gt;</i></span></p>
    <p style="margin:0;">Revisão: <span id="revision" style="font-style: normal;">Edvard Magalhães <i>&lt;edvard3@gmail.com&gt;</i></span></p>
  </footer>

  </body>
</html>
